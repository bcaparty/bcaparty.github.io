"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _defineProperties=require("babel-runtime/core-js/object/define-properties"),_defineProperties2=_interopRequireDefault(_defineProperties),_freeze=require("babel-runtime/core-js/object/freeze"),_freeze2=_interopRequireDefault(_freeze),_defineProperty=require("babel-runtime/core-js/object/define-property"),_defineProperty2=_interopRequireDefault(_defineProperty);Object.defineProperty(exports,"__esModule",{value:!0}),exports.SmoothScrollbar=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,_defineProperty2.default)(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_shared=require("./shared/"),_utils=require("./utils/"),SmoothScrollbar=exports.SmoothScrollbar=function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),t.setAttribute("tabindex","1"),t.scrollTop=t.scrollLeft=0;var o=(0,_utils.findChild)(t,"scroll-content"),n=(0,_utils.findChild)(t,"overscroll-glow"),l=(0,_utils.findChild)(t,"scrollbar-track-x"),s=(0,_utils.findChild)(t,"scrollbar-track-y");if((0,_utils.setStyle)(t,{overflow:"hidden",outline:"none"}),(0,_utils.setStyle)(n,{display:"none","pointer-events":"none"}),this.__readonly("targets",(0,_freeze2.default)({container:t,content:o,canvas:{elem:n,context:n.getContext("2d")},xAxis:(0,_freeze2.default)({track:l,thumb:(0,_utils.findChild)(l,"scrollbar-thumb-x")}),yAxis:(0,_freeze2.default)({track:s,thumb:(0,_utils.findChild)(s,"scrollbar-thumb-y")})})).__readonly("offset",{x:0,y:0}).__readonly("thumbOffset",{x:0,y:0}).__readonly("limit",{x:1/0,y:1/0}).__readonly("movement",{x:0,y:0}).__readonly("movementLocked",{x:!1,y:!1}).__readonly("overscrollRendered",{x:0,y:0}).__readonly("overscrollBack",!1).__readonly("thumbSize",{x:0,y:0,realX:0,realY:0}).__readonly("bounding",{top:0,right:0,bottom:0,left:0}).__readonly("children",[]).__readonly("parents",[]).__readonly("size",this.getSize()).__readonly("isNestedScrollbar",!1),(0,_defineProperties2.default)(this,{__hideTrackThrottle:{value:(0,_utils.debounce)(this.hideTrack.bind(this),1e3,!1)},__updateThrottle:{value:(0,_utils.debounce)(this.update.bind(this))},__touchRecord:{value:new _utils.TouchRecord},__listeners:{value:[]},__handlers:{value:[]},__children:{value:[]},__timerID:{value:{}}}),this.__initOptions(i),this.__initScrollbar(),_shared.sbList.set(t,this),"function"==typeof _shared.GLOBAL_ENV.MutationObserver){var a=new _shared.GLOBAL_ENV.MutationObserver(function(){r.update(!0)});a.observe(o,{childList:!0}),Object.defineProperty(this,"__observer",{value:a})}}return _createClass(e,[{key:"MAX_OVERSCROLL",get:function(){var e=this.options,t=this.size;switch(e.overscrollEffect){case"bounce":var r=Math.floor(Math.sqrt(Math.pow(t.container.width,2)+Math.pow(t.container.height,2))),i=this.__isMovementLocked()?2:10;return _shared.GLOBAL_ENV.TOUCH_SUPPORTED?(0,_utils.pickInRange)(r/i,100,1e3):(0,_utils.pickInRange)(r/10,25,50);case"glow":return 150;default:return 0}}},{key:"scrollTop",get:function(){return this.offset.y}},{key:"scrollLeft",get:function(){return this.offset.x}}]),e}();